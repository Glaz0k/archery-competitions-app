# Контроллер для управления соревнованиями

## Управление соревнованиями

### `PUT /competitions/{competition_id}`

> Изменяет существующее соревнование

_Уровень доступа:_ `[organizer]`\
_Переменные пути:_

- `competition_id` - id соревнования

_Тело запроса:_

```json
{
  "start_date": "2025-02-18",
  "end_date": "2025-02-19"
}
```

_Ответы:_

- **Успешно**\
  `200 Ok`
  ```json
  {
    "id": 103,
    "cup_id": 17,
    "stage": "III",
    "start_date": "2025-02-18",
    "end_date": "2025-02-19",
    "is_ended": false
  }
  ```
- [**Неверные параметры соревнования**](user_errors.md/#неверные-параметры)
- [**Соревнование не найдено**](user_errors.md/#не-найдено)

### Завершить соревнование

### `POST /competitions/{competition_id}/end`

> Завершает соревнование (при применении к завершенному - ничего не делает)

_Уровень доступа:_ `[organizer]`\
_Переменные пути:_

- `competition_id` - id соревнования

_Ответы:_

- **Успешно**\
  `200 Ok`
  ```json
  {
    "id": 103,
    "cup_id": 17,
    "stage": "III",
    "start_date": "2025-02-18",
    "end_date": "2025-02-19",
    "is_ended": true
  }
  ```
- [**Невозможно завершить соревнование из-за незавершенных групп**](user_errors.md/#невозможно-выполнить-действие)
- [**Соревнование не найдено**](user_errors.md/#не-найдено)

## Управление индивидуальными группами (на уровне соревнований)

### `POST /competitions/{competition_id}/individual_groups`

> Добавляет индивидуальную группу в соревнования

_Уровень доступа:_ `[organizer]`\
_Переменные пути:_

- `competition_id` - id соревнования

_Тело запроса:_

```json
{
  "bow": "classic",
  "identity": "male"
}
```

_Перечисления:_

- `bow`: [bow_class](../enums/bow_class.md)
- `identity`: [gender](../enums/gender.md) | `null`

_Ответы:_

- **Успешно создана**\
  `200 Ok`\
  [individual_group.json](../models/individual_group.md)
- [**Группа с такими параметрами уже существует**](user_errors.md/#ресурс-уже-существует)
- [**Невозможно добавить группу в завершенное соревнование**](user_errors.md/#невозможно-выполнить-действие)
- [**Не найдено**](user_errors.md/#не-найдено)
