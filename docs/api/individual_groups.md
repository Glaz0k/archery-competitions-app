# Контроллер для управления индивидуальными группами

## Управление группами

### `PUT /individual_groups/{group_id}`

> Изменяет существующую группу

_Уровень доступа:_ `[organizer]`\
_Переменные пути:_

- `group_id` - id группы

_Тело запроса:_

```json
{
  "start_date": "2025-02-18",
  "end_date": "2025-02-19"
}
```

_Ответы:_

- **Успешно**\
  `200 Ok`
  ```json
  {
    "id": 103,
    "cup_id": 17,
    "stage": "III",
    "start_date": "2025-02-18",
    "end_date": "2025-02-19",
    "is_ended": false
  }
  ```
- [**Неверные параметры группы**](user_errors.md/#неверные-параметры)
- [**Группа не найдена**](user_errors.md/#не-найдено)

## Управление квалицикациями

### `POST /individual_groups/{group_id}/qualification/start`

> Начинает квалификацию в группе с заданными параметрами (при применении к начатому - только получает таблицу). После начала создаёт для каждого участника заданное количество раундов

_Уровень доступа:_ `[organizer]`\
_Переменные пути:_

- `group_id` - id группы

_Тело запроса:_

```json
{
  "distance": "18m",
  "round_count": 2,
  "ranges_count": 10,
  "range_size": 3
}
```

_Ответы:_

- **Успешно**\
  `201 Created`
  [`qualification_table.json`](../models/qualification_table.md)
- [**Неверные параметры квалификаций**](user_errors.md/#неверные-параметры)
- [**Группа не найдена**](user_errors.md/#не-найдено)

### `GET /individual_groups/{group_id}/qualification`

> Получает текущую таблицу квалификаций для группы. Участник имеет доступ только если принадлежит к группе

_Уровень доступа:_ `[organizer, competitor]`\
_Переменные пути:_

- `group_id` - id группы

_Ответы:_

- **Успешно**\
  `200 Ok`
  [`qualification_table.json`](../models/qualification_table.md)
- [**Группа не найдена**](user_errors.md/#не-найдено)

### `POST /individual_groups/{group_id}/qualification/end`

> Заканчивает квалификации в группу, по полученным очкам распределяет участников по местам (при применении к завершенной - только получает таблицу). Необходимо, чтобы все участники завершили свои раунды

_Уровень доступа:_ `[organizer]`\
_Переменные пути:_

- `group_id` - id группы

_Ответы:_

- **Успешно**\
  `200 Ok`
  [`qualification_table.json`](../models/qualification_table.md)
- [**Невозможно закончить квалификацию из-за незавершённых участниками раундов**](user_errors.md/#невозможно-выполнить-действие)
  ```json
  {
    "details": [{}]
  }
  ```
  - `details`: `[`[`competitor_shrinked.json`](../models/competitor.md/#shrinked)`]`
- [**Группа не найдена**](user_errors.md/#не-найдено)
