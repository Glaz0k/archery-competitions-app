# Контроллер для управления индивидуальными группами

## Управление группой

### `GET /individual_groups/{group_id}`

> Получить информацию о группе. Участникам доступны только те, в которых они участвуют

_Уровень доступа:_ `[admin, user]`\
_Переменные пути:_

- `group_id` - id группы

_Ответы:_

- **Успешно**\
  `200 Ok`\
  [`individual_group.json`](../models/individual_group.md)
- [**Группа не найдена**](user_errors.md/#не-найдено)

### `DELETE /individual_groups/{group_id}`

> [!WARNING]
> Безвозвратно удаляет существующую группу (если такой группы нет - ничего не происходит). Является каскадным удалением и должно помимо самой группы удалить все сопутсвующие с ней ресурсы, такие как квалификации, финальная сетка, информация об участии и все результаты вместе с выстрелами

_Уровень доступа:_ `[admin]`\
_Переменные пути:_

- `group_id` - id группы

_Ответы:_

- **Успешно удалено**\
  `204 No content`

## Управление участниками группы

### `GET /individual_groups/{group_id}/competitors`

> Получить список участников в группе. Участник имеет доступ только если состоит в группе

_Уровень доступа:_ `[admin, user]`\
_Переменные пути:_

- `group_id` - id группы

_Ответы:_

- **Успешно**\
  `200 Ok`\
  `[`[`competitor_full.json`](../models/competitor.md#full)`]`
- [**Группа не найдена**](user_errors.md/#не-найдено)

### `POST /individual_groups/{group_id}/competitors/sync`

> Обновляет список участников, синхронизируя его вместе со списком зарегистрированных на соревнование. Применимо только к группам на этапе создания

_Уровень доступа:_ `[admin]`\
_Переменные пути:_

- `group_id` - id группы

_Ответы:_

- **Успешно**\
  `200 Ok`\
  `[`[`competitor_full.json`](../models/competitor.md#full)`]`
- [**Невозможно обновить список группы не на этапе создания**](user_errors.md/#невозможно-выполнить-действие)
- [**Группа не найдена**](user_errors.md/#не-найдено)

## Управление квалицикацией (на уровне группы)

### `POST /individual_groups/{group_id}/qualification/start`

> Начинает квалификацию в группе с заданными параметрами.
> Участники назначаются в группу из числа зарегистрированных на соревнование на момент начала квалификации по соответсвующим параметрам.
> Создаёт для каждого участника заданное количество раундов и серий

_Уровень доступа:_ `[admin]`\
_Переменные пути:_

- `group_id` - id группы

_Тело запроса:_

```json
{
  "distance": "18m",
  "round_count": 2,
  "ranges_count": 10,
  "range_size": 3
}
```

_Ответы:_

- **Успешно**\
  `201 Created | 200 Ok`\
  [`qualification_table.json`](../models/qualification_table.md)
- [**Неверные параметры квалификации**](user_errors.md/#неверные-параметры)
- [**Группа не найдена**](user_errors.md/#не-найдено)

### `POST /individual_groups/{group_id}/qualification/end`

> Заканчивает квалификации в группу, по полученным очкам распределяет участников по местам (при применении к завершенной - только получает таблицу). Необходимо, чтобы все участники завершили свои раунды

_Уровень доступа:_ `[admin]`\
_Переменные пути:_

- `group_id` - id группы

_Ответы:_

- **Успешно**\
  `200 Ok`\
  [`qualification_table.json`](../models/qualification_table.md)
- [**Невозможно закончить квалификацию из-за незавершённых участниками раундов**](user_errors.md/#невозможно-выполнить-действие)
  ```json
  {
    "details": [{}]
  }
  ```
  - `details`: `[`[`competitor_shrinked.json`](../models/competitor.md/#shrinked)`]`
- [**Группа не найдена**](user_errors.md/#не-найдено)
