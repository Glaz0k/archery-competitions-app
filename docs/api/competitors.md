# Контроллер для управления участниками

## Регистрация

### `POST /competitors/registration`

> Зарегистрировать участника c помощью его аутентификационного токена

_Уровень доступа:_ `[user]`\
_Тело запроса:_

[`change_competitor.json`](../requests/change_competitor.md)

_Ответы:_

- **Успешно**\
  `200 Ok`\
  [`competitor_full.json`](../models/competitor.md#full)
- [**Неверные параметры**](../policies/user_errors.md/#неверные-параметры)
- [**Уже зарегистрирован**](../policies/user_errors.md/#ресурс-уже-существует)

## Информация об участнике

### `GET /competitors`

> Получить информацию о всех текущих пользователях

_Уровень доступа:_ `[admin]`\
_Ответы:_

- **Успешно**\
  `200 Ok`\
  `[`[`competitor_full.json`](../models/competitor.md#full)`]`

### `GET /competitors/{competitor_id}`

> Получить информацию об участнике

_Уровень доступа:_ `[admin, user]`\
_Переменные пути:_

- `competitor_id` - id участника

_Ответы:_

- **Успешно**\
  `200 Ok`\
  [`competitor_full.json`](../models/competitor.md#full)
- [**Не существует**](../policies/user_errors.md/#не-найдено)

### `PUT /competitors/{competitor_id}`

> Изменить информацию об участнике. Участнику доступно изменение только своих данных. Невозможно изменить пол и тип лука, если участник зарегистрирован в группе не на стадии создания

_Уровень доступа:_ `[admin, user]`\
_Переменные пути:_

- `competitor_id` - id участника

_Тело запроса:_

[`change_competitor.json`](../requests/change_competitor.md)

_Ответы:_

- **Успешно**\
  `200 Ok`\
  [`competitor_full.json`](../models/competitor.md#full)
- [**Неверные параметры**](../policies/user_errors.md/#неверные-параметры)
- [**Не зарегистрирован**](../policies/user_errors.md/#не-найдено)

### `DELETE /competitors/{competitor_id}`

> Удалить всю информацию об участнике. После этого действия участнику будет необходимо заново регистрироваться.\
> Нельзя удалять информацию об участнике, если есть информация об участии в завершённом соревновании/группе или активной группе.

_Уровень доступа:_ `[admin]`\
_Переменные пути:_

- `competitor_id` - id участника

_Ответы:_

- **Успешно**\
  `204 No content`
- [**Невозможно удалить**](../policies/user_errors.md/#невозможно-выполнить-действие)
